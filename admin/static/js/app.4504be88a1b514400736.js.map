{"version":3,"sources":["webpack:///static/js/app.4504be88a1b514400736.js","webpack:///./src/app.js","webpack:///./src/api.js","webpack:///./src/event-bus.js","webpack:///./src/routes.js","webpack:///app.vue","webpack:///filelist.vue","webpack:///./src/app.vue","webpack:///./src/pages/common/filelist.vue","webpack:///./src/pages/common/filelist.vue?5017","webpack:///./src/app.vue?39ed"],"names":["webpackJsonp","0","module","exports","__webpack_require__","_interopRequireDefault","obj","__esModule","default","Object","defineProperty","value","router","undefined","_vue","_vue2","_vueRouter","_vueRouter2","_elementUi","_elementUi2","_app","_app2","_routes","_routes2","use","routes","mode","linkActiveClass","beforeEach","to","from","next","matched","some","record","meta","requiresAuth","user","localStorage","getItem","sessionStorage","path","query","redirect","fullPath","window","$bus","render","h","$mount","36","reset","clear","getUser","JSON","parse","e","name","octo","_octokat2","username","password","_jsBase","Base64","decode","repo","repos","base","location","host","_octokat","119","EventBus","169","root","component","template","resolve","__WEBPACK_AMD_REQUIRE_ARRAY__","apply","bind","this","hidden","children","iconClass","type","menuCount","length","forEach","route","170","_filelist","_filelist2","data","avatar","globalClass","sideBarWidth","openSideBar","activeMenu","components","Filelist","created","$route","setUser","$nextTick","initSidebar","watch","methods","_this","aside","$refs","resizer","currentWidth","offsetWidth","position","startX","endX","release","addEventListener","clientX","parseInt","gotoHome","href","logout","_this2","$confirm","confirmButtonText","cancelButtonText","then","removeItem","$router","push","catch","172","setValue","val","fields","split","result","i","n","field","objToMenu","dataArray","p","_obj$p","_id","_path","_type","other","_objectWithoutProperties3","label","ip","unshift","_promise","_promise2","_objectWithoutProperties2","_api","_eventBus","_eventBus2","filterText","filelist","loading","fileTree","branches","filter","mounted","$on","setTimeout","fetchFiles","filterNode","indexOf","endsWith","fetch","_ref","defaultBranch","git","trees","Math","random","tree","item","dataObj","sha","err","arguments","$message","error","test","message","RegExp","$1","toString","removeFile","_this3","contents","remove","editFile","renderContent","_ref2","node","store","class","242","243","244","248","278","Component","281","286","_vm","_h","$createElement","_c","_self","attrs","placeholder","model","callback","$$v","expression","_v","directives","rawName","modifiers","body","ref","node-key","filter-node-method","render-content","default-expanded-keys","on","node-click","staticRenderFns","290","staticClass","trigger","_s","slot","nativeOn","click","$event","_e","style","width","default-active","_l","options","index","cRoute","cIndex","key"],"mappings":"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","file":"static/js/app.4504be88a1b514400736.js","sourcesContent":["webpackJsonp([7,5],{\n\n/***/ 0:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.router = undefined;\n\t\n\tvar _vue = __webpack_require__(3);\n\t\n\tvar _vue2 = _interopRequireDefault(_vue);\n\t\n\tvar _vueRouter = __webpack_require__(294);\n\t\n\tvar _vueRouter2 = _interopRequireDefault(_vueRouter);\n\t\n\tvar _elementUi = __webpack_require__(228);\n\t\n\tvar _elementUi2 = _interopRequireDefault(_elementUi);\n\t\n\t__webpack_require__(242);\n\t\n\tvar _app = __webpack_require__(278);\n\t\n\tvar _app2 = _interopRequireDefault(_app);\n\t\n\tvar _routes = __webpack_require__(169);\n\t\n\tvar _routes2 = _interopRequireDefault(_routes);\n\t\n\t__webpack_require__(243);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t_vue2.default.use(_vueRouter2.default);\n\t_vue2.default.use(_elementUi2.default);\n\t\n\tvar router = exports.router = new _vueRouter2.default({\n\t  routes: _routes2.default,\n\t  mode: 'hash',\n\t  linkActiveClass: 'active'\n\t});\n\t\n\trouter.beforeEach(function (to, from, next) {\n\t  if (to.matched.some(function (record) {\n\t    return record.meta.requiresAuth;\n\t  })) {\n\t    var user = localStorage.getItem('user') || sessionStorage.getItem('user');\n\t    if (!user) {\n\t      return next({ path: '/login', query: { redirect: to.fullPath } });\n\t    }\n\t  }\n\t  next();\n\t});\n\t\n\twindow.$bus = new _vue2.default({\n\t  render: function render(h) {\n\t    return h(_app2.default);\n\t  },\n\t  router: router\n\t}).$mount('#app');\n\n/***/ }),\n\n/***/ 36:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.getUser = exports.user = exports.base = exports.repo = exports.octo = undefined;\n\t\n\tvar _jsBase = __webpack_require__(17);\n\t\n\tvar _octokat = __webpack_require__(145);\n\t\n\tvar _octokat2 = _interopRequireDefault(_octokat);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar user = {};\n\tvar octo = null;\n\tvar repo = null;\n\tvar base = null;\n\t\n\tfunction reset() {\n\t  localStorage.clear();\n\t  sessionStorage.clear();\n\t}\n\t\n\tfunction getUser() {\n\t  try {\n\t    exports.user = user = JSON.parse(localStorage.getItem('user') || sessionStorage.getItem('user'));\n\t  } catch (e) {\n\t    reset();\n\t  }\n\t  exports.user = user = user || {};\n\t  if (!user.name) {\n\t    reset();\n\t  } else {\n\t    exports.octo = octo = new _octokat2.default({\n\t      username: user.name,\n\t      password: _jsBase.Base64.decode(user.password)\n\t    });\n\t    exports.repo = repo = octo.repos(user.name, 'blog');\n\t    exports.base = base = octo.repos(user.name, window.location.host);\n\t  }\n\t}\n\t\n\texports.octo = octo;\n\texports.repo = repo;\n\texports.base = base;\n\texports.user = user;\n\texports.getUser = getUser;\n\n/***/ }),\n\n/***/ 119:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _vue = __webpack_require__(3);\n\t\n\tvar _vue2 = _interopRequireDefault(_vue);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar EventBus = new _vue2.default();\n\texports.default = EventBus;\n\n/***/ }),\n\n/***/ 169:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _vue = __webpack_require__(3);\n\t\n\tvar _vue2 = _interopRequireDefault(_vue);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar root = _vue2.default.component('root', {\n\t  template: '<router-view></router-view>'\n\t});\n\t\n\tvar routes = [{\n\t  path: '/login',\n\t  component: function component(resolve) {\n\t    return __webpack_require__.e/* require */(3, function(__webpack_require__) { var __WEBPACK_AMD_REQUIRE_ARRAY__ = [__webpack_require__(283)]; (resolve.apply(null, __WEBPACK_AMD_REQUIRE_ARRAY__));}.bind(this));\n\t  },\n\t  name: 'login',\n\t  meta: {\n\t    hidden: true\n\t  }\n\t}, {\n\t  path: '/',\n\t  name: 'Home',\n\t  component: root,\n\t  meta: {\n\t    requiresAuth: true\n\t  },\n\t  children: [{\n\t    path: '_settings',\n\t    iconClass: 'el-icon-setting',\n\t    name: '站点设置',\n\t    component: root,\n\t    children: [{\n\t      path: '_basic',\n\t      name: '基本设置',\n\t      component: function component(resolve) {\n\t        return __webpack_require__.e/* require */(2, function(__webpack_require__) { var __WEBPACK_AMD_REQUIRE_ARRAY__ = [__webpack_require__(285)]; (resolve.apply(null, __WEBPACK_AMD_REQUIRE_ARRAY__));}.bind(this));\n\t      }\n\t    }, {\n\t      path: '_about',\n\t      name: '关于我',\n\t      component: function component(resolve) {\n\t        return __webpack_require__.e/* require */(0, function(__webpack_require__) { var __WEBPACK_AMD_REQUIRE_ARRAY__ = [__webpack_require__(284)]; (resolve.apply(null, __WEBPACK_AMD_REQUIRE_ARRAY__));}.bind(this));\n\t      }\n\t    }]\n\t  }, {\n\t    path: '/',\n\t    component: function component(resolve) {\n\t      return __webpack_require__.e/* require */(1, function(__webpack_require__) { var __WEBPACK_AMD_REQUIRE_ARRAY__ = [__webpack_require__(282)]; (resolve.apply(null, __WEBPACK_AMD_REQUIRE_ARRAY__));}.bind(this));\n\t    }\n\t  }, {\n\t    path: '*',\n\t    iconClass: 'el-icon-document',\n\t    type: 'filelist'\n\t  }]\n\t}, {\n\t  path: '/*',\n\t  component: function component(resolve) {\n\t    return __webpack_require__.e/* require */(4, function(__webpack_require__) { var __WEBPACK_AMD_REQUIRE_ARRAY__ = [__webpack_require__(280)]; (resolve.apply(null, __WEBPACK_AMD_REQUIRE_ARRAY__));}.bind(this));\n\t  },\n\t  name: '404',\n\t  meta: {\n\t    requiresAuth: true\n\t  }\n\t}];\n\tvar menuCount = routes.length;\n\troutes[menuCount - 2].children.forEach(function (route) {\n\t  if (route.children) {\n\t    if (!route.meta) route.meta = {};\n\t    route.meta.children = route.children;\n\t  }\n\t});\n\t\n\texports.default = routes;\n\n/***/ }),\n\n/***/ 170:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _filelist = __webpack_require__(281);\n\t\n\tvar _filelist2 = _interopRequireDefault(_filelist);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t  data: function data() {\n\t    return {\n\t      user: {\n\t        name: '',\n\t        avatar: ''\n\t      },\n\t      globalClass: '',\n\t      sideBarWidth: '16%',\n\t      openSideBar: true,\n\t      activeMenu: ''\n\t    };\n\t  },\n\t\n\t  components: { Filelist: _filelist2.default },\n\t  created: function created() {\n\t    this.activeMenu = this.$route.name;\n\t    this.setUser();\n\t    this.$nextTick(this.initSidebar);\n\t  },\n\t\n\t  watch: {\n\t    '$route': function $route(to, from) {\n\t      this.activeMenu = this.$route.name;\n\t      this.setUser();\n\t    }\n\t  },\n\t  methods: {\n\t    initSidebar: function initSidebar() {\n\t      var _this = this;\n\t\n\t      var aside = this.$refs['aside'];\n\t      var resizer = this.$refs['resizer'];\n\t      var currentWidth = aside.offsetWidth;\n\t      var position = {\n\t        startX: 0,\n\t        endX: 0,\n\t        release: true\n\t      };\n\t      this.sideBarWidth = currentWidth + 'px';\n\t      resizer.addEventListener('mousedown', function (e) {\n\t        position.release = false;\n\t        position.startX = e.clientX;\n\t        _this.globalClass = 'no-select';\n\t      });\n\t      window.addEventListener('mousemove', function (e) {\n\t        if (position.release) return;\n\t        position.endX = e.clientX;\n\t        _this.sideBarWidth = currentWidth + (position.endX - position.startX) + 'px';\n\t      });\n\t      window.addEventListener('mouseup', function (e) {\n\t        position.release = true;\n\t        currentWidth = parseInt(_this.sideBarWidth, 10);\n\t        _this.globalClass = '';\n\t      });\n\t    },\n\t    setUser: function setUser() {\n\t      try {\n\t        this.user = JSON.parse(localStorage.getItem('user') || sessionStorage.getItem('user')) || {};\n\t      } catch (e) {\n\t        this.user = {};\n\t      }\n\t    },\n\t    gotoHome: function gotoHome() {\n\t      location.href = '../';\n\t    },\n\t    logout: function logout() {\n\t      var _this2 = this;\n\t\n\t      this.$confirm('确定要注销吗?', '提示', {\n\t        confirmButtonText: '确定',\n\t        cancelButtonText: '取消',\n\t        type: 'info'\n\t      }).then(function () {\n\t        localStorage.removeItem('user');\n\t        _this2.$router.push({ path: '/login' });\n\t      }).catch(function () {});\n\t    }\n\t  }\n\t};\n\n/***/ }),\n\n/***/ 172:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _promise = __webpack_require__(48);\n\t\n\tvar _promise2 = _interopRequireDefault(_promise);\n\t\n\tvar _objectWithoutProperties2 = __webpack_require__(178);\n\t\n\tvar _objectWithoutProperties3 = _interopRequireDefault(_objectWithoutProperties2);\n\t\n\tvar _api = __webpack_require__(36);\n\t\n\tvar _eventBus = __webpack_require__(119);\n\t\n\tvar _eventBus2 = _interopRequireDefault(_eventBus);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction setValue(path, val, obj) {\n\t  var fields = path.split('/');\n\t  var result = obj;\n\t  for (var i = 0, n = fields.length; i < n && result !== undefined; i++) {\n\t    var field = fields[i];\n\t    if (i === n - 1) {\n\t      result[field] = val;\n\t    } else {\n\t      result = result[field] || {};\n\t    }\n\t  }\n\t}\n\t\n\tfunction objToMenu(obj, dataArray) {\n\t  for (var p in obj) {\n\t    var _obj$p = obj[p],\n\t        _id = _obj$p._id,\n\t        _path = _obj$p._path,\n\t        _type = _obj$p._type,\n\t        other = (0, _objectWithoutProperties3.default)(_obj$p, ['_id', '_path', '_type']);\n\t\n\t    var data = {\n\t      label: p,\n\t      _id: _id,\n\t      _path: _path,\n\t      _type: _type\n\t    };\n\t\n\t    for (var ip in other) {\n\t      data.children = [];\n\t      objToMenu(other, data.children);\n\t      break;\n\t    }\n\t    dataArray.unshift(data);\n\t  }\n\t}\n\t\n\texports.default = {\n\t  data: function data() {\n\t    return {\n\t      filterText: '',\n\t      filelist: [],\n\t      loading: false,\n\t      fileTree: [],\n\t      branches: ''\n\t    };\n\t  },\n\t\n\t  watch: {\n\t    filterText: function filterText(val) {\n\t      this.$refs['filelist'].filter(val);\n\t    }\n\t  },\n\t  mounted: function mounted() {\n\t    var _this = this;\n\t\n\t    _eventBus2.default.$on('updateFiles', function () {\n\t      _this.loading = true;\n\t      setTimeout(function () {\n\t        _this.fetchFiles();\n\t      }, 1000);\n\t    });\n\t  },\n\t  created: function created() {\n\t    (0, _api.getUser)();\n\t    this.fetchFiles();\n\t  },\n\t\n\t  methods: {\n\t    filterNode: function filterNode(value, data) {\n\t      if (!value) return true;\n\t      return data.label.indexOf(value) !== -1 && data.label.endsWith('.md');\n\t    },\n\t    fetchFiles: function fetchFiles() {\n\t      var _this2 = this;\n\t\n\t      if (!_api.octo) {\n\t        return;\n\t      };\n\t      this.loading = true;\n\t      return new _promise2.default(function (resolve) {\n\t        if (_this2.branches) {\n\t          resolve(_this2.branches);\n\t        } else {\n\t          _api.repo.fetch().then(function (_ref) {\n\t            var defaultBranch = _ref.defaultBranch;\n\t\n\t            _this2.branches = defaultBranch;\n\t            resolve(_this2.branches);\n\t          });\n\t        }\n\t      }).then(function (branches) {\n\t        return _api.repo.git.trees(branches + '?recursive=1&rd=' + Math.random()).fetch();\n\t      }).then(function (filelist) {\n\t        return filelist.tree.filter(function (item) {\n\t          return item.path.indexOf('_posts') === 0 || item.path.indexOf('media') === 0;\n\t        });\n\t      }).then(function (tree) {\n\t        _this2.loading = false;\n\t        _this2.filelist = tree;\n\t\n\t        var dataObj = {};\n\t        tree.forEach(function (item) {\n\t          setValue(item.path, { _id: item.sha, _path: item.path, _type: item.type }, dataObj);\n\t        });\n\t        var fileTree = [];\n\t        objToMenu(dataObj, fileTree);\n\t        fileTree.forEach(function (item) {\n\t          if (item.label === '_posts') {\n\t            item.label = '我的文档';\n\t          } else {\n\t            item.label = '我的图片';\n\t          }\n\t        });\n\t        _this2.fileTree = fileTree;\n\t      }).catch(function () {\n\t        var err = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\t\n\t        _this2.loading = false;\n\t        _this2.$message.error(/\"message\": \"([^\"]+)/m.test(err.message) && RegExp.$1 || err.toString());\n\t      });\n\t    },\n\t    removeFile: function removeFile(data) {\n\t      var _this3 = this;\n\t\n\t      return this.$confirm('是否要删除此文章？').then(function () {\n\t        _this3.loading = true;\n\t        return _api.repo.contents(data._path).remove({\n\t          message: 'remove file',\n\t          sha: data.sha\n\t        });\n\t      }).then(function () {\n\t        _this3.loading = false;\n\t        return _this3.fetchFiles();\n\t      }).catch(function () {\n\t        var err = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\t\n\t        _this3.loading = false;\n\t        _this3.$message.error(/\"message\": \"([^\"]+)/m.test(err.message) && RegExp.$1 || err.toString());\n\t      });\n\t    },\n\t    editFile: function editFile(data) {\n\t      if (data._type === 'tree') return;\n\t      this.$router.push({\n\t        path: '/',\n\t        query: {\n\t          path: data._path\n\t        }\n\t      });\n\t    },\n\t    renderContent: function renderContent(h, _ref2) {\n\t      var node = _ref2.node,\n\t          data = _ref2.data,\n\t          store = _ref2.store;\n\t\n\t      var children = [h('span', { class: 'flex-1' }, node.label)];\n\t      return h('span', { class: 'flex flex-1' }, children);\n\t    }\n\t  }\n\t};\n\n/***/ }),\n\n/***/ 242:\n/***/ (function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 243:\n/***/ (function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 244:\n/***/ (function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 248:\n/***/ (function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 278:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\n\t/* styles */\n\t__webpack_require__(248)\n\t\n\tvar Component = __webpack_require__(8)(\n\t  /* script */\n\t  __webpack_require__(170),\n\t  /* template */\n\t  __webpack_require__(290),\n\t  /* scopeId */\n\t  null,\n\t  /* cssModules */\n\t  null\n\t)\n\t\n\tmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 281:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\n\t/* styles */\n\t__webpack_require__(244)\n\t\n\tvar Component = __webpack_require__(8)(\n\t  /* script */\n\t  __webpack_require__(172),\n\t  /* template */\n\t  __webpack_require__(286),\n\t  /* scopeId */\n\t  null,\n\t  /* cssModules */\n\t  null\n\t)\n\t\n\tmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 286:\n/***/ (function(module, exports) {\n\n\tmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n\t  return _c('div', [_c('el-input', {\n\t    attrs: {\n\t      \"placeholder\": \"搜索我的文档\"\n\t    },\n\t    model: {\n\t      value: (_vm.filterText),\n\t      callback: function($$v) {\n\t        _vm.filterText = $$v\n\t      },\n\t      expression: \"filterText\"\n\t    }\n\t  }), _vm._v(\" \"), _c('el-tree', {\n\t    directives: [{\n\t      name: \"loading\",\n\t      rawName: \"v-loading.body\",\n\t      value: (_vm.loading),\n\t      expression: \"loading\",\n\t      modifiers: {\n\t        \"body\": true\n\t      }\n\t    }],\n\t    ref: \"filelist\",\n\t    attrs: {\n\t      \"data\": _vm.fileTree,\n\t      \"node-key\": \"_path\",\n\t      \"filter-node-method\": _vm.filterNode,\n\t      \"render-content\": _vm.renderContent,\n\t      \"default-expanded-keys\": ['_posts']\n\t    },\n\t    on: {\n\t      \"node-click\": _vm.editFile\n\t    }\n\t  })], 1)\n\t},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 290:\n/***/ (function(module, exports) {\n\n\tmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n\t  return _c('section', {\n\t    staticClass: \"admin\"\n\t  }, [(!_vm.$route.meta.hidden) ? [_c('header', {\n\t    staticClass: \"admin-header\"\n\t  }, [_c('router-link', {\n\t    staticClass: \"logo\",\n\t    attrs: {\n\t      \"to\": {\n\t        path: '/'\n\t      }\n\t    }\n\t  }, [_vm._v(\"极简博客后台管理\")]), _vm._v(\" \"), (_vm.user.name) ? _c('div', {\n\t    staticClass: \"user-info\"\n\t  }, [_c('el-dropdown', {\n\t    attrs: {\n\t      \"trigger\": \"click\"\n\t    }\n\t  }, [_c('span', {\n\t    staticClass: \"el-dropdown-link\"\n\t  }, [_c('span', [_vm._v(_vm._s(_vm.user.name))]), _c('i', {\n\t    staticClass: \"el-icon-caret-bottom el-icon--right\"\n\t  })]), _vm._v(\" \"), _c('el-dropdown-menu', {\n\t    slot: \"dropdown\"\n\t  }, [_c('el-dropdown-item', {\n\t    nativeOn: {\n\t      \"click\": function($event) {\n\t        _vm.gotoHome($event)\n\t      }\n\t    }\n\t  }, [_vm._v(\"返回首页\")]), _vm._v(\" \"), _c('el-dropdown-item', {\n\t    nativeOn: {\n\t      \"click\": function($event) {\n\t        _vm.logout($event)\n\t      }\n\t    }\n\t  }, [_vm._v(\"注销\")])], 1)], 1)], 1) : _vm._e()], 1), _vm._v(\" \"), _c('div', {\n\t    staticClass: \"admin-body\",\n\t    class: _vm.globalClass\n\t  }, [_c('aside', {\n\t    ref: \"aside\",\n\t    staticClass: \"admin-menu-wrapper\",\n\t    style: ({\n\t      width: _vm.sideBarWidth\n\t    })\n\t  }, [_c('el-menu', {\n\t    staticClass: \"admin-menu-bar\",\n\t    attrs: {\n\t      \"default-active\": _vm.activeMenu,\n\t      \"router\": \"\"\n\t    }\n\t  }, [_vm._l((_vm.$router.options.routes[_vm.$router.options.routes.length - 2].children), function(route, index) {\n\t    return [(route.children && route.name) ? [_c('el-submenu', {\n\t      attrs: {\n\t        \"index\": route.name\n\t      }\n\t    }, [_c('template', {\n\t      slot: \"title\"\n\t    }, [_c('i', {\n\t      class: route.iconClass\n\t    }), _vm._v(_vm._s(route.name))]), _vm._v(\" \"), _vm._l((route.children), function(cRoute, cIndex) {\n\t      return _c('el-menu-item', {\n\t        key: cRoute.name,\n\t        attrs: {\n\t          \"index\": cRoute.name,\n\t          \"route\": cRoute\n\t        }\n\t      }, [_vm._v(_vm._s(cRoute.name))])\n\t    })], 2)] : _vm._e(), _vm._v(\" \"), (!route.children && route.name) ? [_c('el-menu-item', {\n\t      attrs: {\n\t        \"index\": route.name,\n\t        \"route\": route\n\t      }\n\t    }, [_c('i', {\n\t      class: route.iconClass\n\t    }), _vm._v(_vm._s(route.name))])] : _vm._e(), _vm._v(\" \"), (route.type === 'filelist') ? [_c('filelist')] : _vm._e()]\n\t  })], 2)], 1), _vm._v(\" \"), _c('div', {\n\t    ref: \"resizer\",\n\t    staticClass: \"admin-content-resizer\"\n\t  }), _vm._v(\" \"), _c('div', {\n\t    staticClass: \"admin-content-wrapper\"\n\t  }, [_c('section', {\n\t    staticClass: \"admin-content\"\n\t  }, [_c('router-view')], 1)])])] : [_c('router-view')]], 2)\n\t},staticRenderFns: []}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/app.4504be88a1b514400736.js","import Vue from 'vue'\nimport VueRouter from 'vue-router'\n\nimport ElementUI from 'element-ui'\nimport 'element-ui/lib/theme-default/index.css'\n\nimport App from './app.vue'\nimport routes from './routes'\nimport './style.scss'\n\nVue.use(VueRouter)\nVue.use(ElementUI)\n\nexport const router = new VueRouter({\n  routes,\n  mode: 'hash',\n  linkActiveClass: 'active'\n})\n\nrouter.beforeEach((to, from, next) => {\n  if (to.matched.some(record => record.meta.requiresAuth)) {\n    let user = localStorage.getItem('user') || sessionStorage.getItem('user')\n    if (!user) {\n      return next({path: '/login', query: {redirect: to.fullPath}})\n    }\n  }\n  next()\n})\n\nwindow.$bus = new Vue({\n  render: h => h(App),\n  router\n}).$mount('#app')\n\n\n\n// WEBPACK FOOTER //\n// ./src/app.js","import { Base64 } from 'js-base64'\nimport Octokat from 'octokat'\n\nlet user = {}\nlet octo = null\nlet repo = null\nlet base = null\n\nfunction reset () {\n  localStorage.clear()\n  sessionStorage.clear()\n}\n\nfunction getUser () {\n  try {\n    user = JSON.parse(localStorage.getItem('user') || sessionStorage.getItem('user'))\n  } catch (e) {\n    reset()\n  }\n  user = user || {}\n  if (!user.name) {\n    reset()\n  } else {\n    octo = new Octokat({\n      username: user.name,\n      password: Base64.decode(user.password)\n    })\n    repo = octo.repos(user.name, 'blog')\n    base = octo.repos(user.name, window.location.host)\n  }\n}\n\nexport { octo, repo, base, user, getUser }\n\n\n\n// WEBPACK FOOTER //\n// ./src/api.js","import Vue from 'vue'\nconst EventBus = new Vue()\nexport default EventBus\n\n\n\n// WEBPACK FOOTER //\n// ./src/event-bus.js","import Vue from 'vue'\n\nconst root = Vue.component('root', {\n  template: '<router-view></router-view>'\n})\n\nlet routes = [\n  {\n    path: '/login',\n    component: resolve => require(['./pages/login/login'], resolve),\n    name: 'login',\n    meta: {\n      hidden: true\n    }\n  },\n  {\n    path: '/',\n    name: 'Home',\n    component: root,\n    meta: {\n      requiresAuth: true\n    },\n    children: [\n      {\n        path: '_settings',\n        iconClass: 'el-icon-setting',\n        name: '站点设置',\n        component: root,\n        children: [\n          {\n            path: '_basic',\n            name: '基本设置',\n            component: resolve => require(['./pages/settings/index'], resolve)\n          },\n          {\n            path: '_about',\n            name: '关于我',\n            component: resolve => require(['./pages/settings/about'], resolve)\n          }\n        ]\n      },\n      {\n        path: '/',\n        component: resolve => require(['./pages/editor/'], resolve)\n      },\n      {\n        path: '*',\n        iconClass: 'el-icon-document',\n        type: 'filelist'\n      }\n    ]\n  },\n  {\n    path: '/*',\n    component: resolve => require(['./pages/common/404'], resolve),\n    name: '404',\n    meta: {\n      requiresAuth: true\n    }\n  }\n]\nlet menuCount = routes.length\nroutes[menuCount - 2].children.forEach(route => {\n  if (route.children) {\n    if (!route.meta) route.meta = {}\n    route.meta.children = route.children\n  }\n})\n\nexport default routes\n\n\n\n// WEBPACK FOOTER //\n// ./src/routes.js","<template>\n  <section class=\"admin\">\n    <template v-if=\"!$route.meta.hidden\">\n      <!-- header start  -->\n      <header class=\"admin-header\">\n        <router-link class=\"logo\" :to=\"{path: '/'}\">极简博客后台管理</router-link>\n        <div class=\"user-info\" v-if=\"user.name\">\n          <el-dropdown trigger=\"click\">\n            <span class=\"el-dropdown-link\">\n              <span>{{ user.name }}</span><i class=\"el-icon-caret-bottom el-icon--right\"></i>\n            </span>\n            <el-dropdown-menu slot=\"dropdown\">\n              <el-dropdown-item @click.native=\"gotoHome\">返回首页</el-dropdown-item>\n              <el-dropdown-item @click.native=\"logout\">注销</el-dropdown-item>\n            </el-dropdown-menu>\n          </el-dropdown>\n        </div>\n      </header>\n      <!-- header end  -->\n\n      <!-- body start  -->\n      <div class=\"admin-body\" :class=\"globalClass\">\n\n        <!-- menu start -->\n        <aside class=\"admin-menu-wrapper\" ref=\"aside\" :style=\"{ width: sideBarWidth }\">\n          <el-menu :default-active=\"activeMenu\" class=\"admin-menu-bar\" router>\n            <template v-for=\"(route, index) in $router.options.routes[$router.options.routes.length - 2].children\">\n              <template v-if=\"route.children && route.name\">\n                <el-submenu :index=\"route.name\">\n                  <template slot=\"title\"><i :class=\"route.iconClass\"></i>{{route.name}}</template>\n                  <el-menu-item :index=\"cRoute.name\" v-for=\"(cRoute, cIndex) in route.children\" :route=\"cRoute\" :key=\"cRoute.name\">{{cRoute.name}}</el-menu-item>\n                </el-submenu>\n              </template>\n\n              <template v-if=\"!route.children && route.name\">\n                <el-menu-item :index=\"route.name\" :route=\"route\"><i :class=\"route.iconClass\"></i>{{route.name}}</el-menu-item>\n              </template>\n              <template v-if=\"route.type === 'filelist'\">\n                <filelist />\n              </template>\n            </template>\n          </el-menu>\n        </aside>\n        <!-- menu end -->\n        <div class=\"admin-content-resizer\" ref=\"resizer\"></div>\n        <!-- content start -->\n        <div class=\"admin-content-wrapper\">\n          <section class=\"admin-content\">\n            <router-view></router-view>\n          </section>\n        </div>\n        <!-- content end -->\n      </div>\n      <!-- body end  -->\n    </template>\n    <template v-else>\n      <router-view></router-view>\n    </template>\n  </section>\n</template>\n\n<script>\nimport Filelist from './pages/common/filelist'\nexport default {\n  data () {\n    return {\n      user: {\n        name: '',\n        avatar: ''\n      },\n      globalClass: '',\n      sideBarWidth: '16%',\n      openSideBar: true,\n      activeMenu: ''\n    }\n  },\n  components: { Filelist },\n  created () {\n    this.activeMenu = this.$route.name\n    this.setUser()\n    this.$nextTick(this.initSidebar)\n  },\n  watch: {\n    '$route' (to, from) {\n      this.activeMenu = this.$route.name\n      this.setUser()\n    }\n  },\n  methods: {\n    initSidebar () {\n      const aside = this.$refs['aside']\n      const resizer = this.$refs['resizer']\n      let currentWidth = aside.offsetWidth\n      const position = {\n        startX: 0,\n        endX: 0,\n        release: true\n      }\n      this.sideBarWidth = currentWidth + 'px'\n      resizer.addEventListener('mousedown', (e) => {\n        position.release = false\n        position.startX = e.clientX\n        this.globalClass = 'no-select'\n      })\n      window.addEventListener('mousemove', (e) => {\n        if (position.release) return\n        position.endX = e.clientX\n        this.sideBarWidth = currentWidth + (position.endX - position.startX) + 'px'\n      })\n      window.addEventListener('mouseup', (e) => {\n        position.release = true\n        currentWidth = parseInt(this.sideBarWidth, 10)\n        this.globalClass = ''\n      })\n    },\n    setUser () {\n      try {\n        this.user = JSON.parse(localStorage.getItem('user') || sessionStorage.getItem('user')) || {}\n      } catch (e) {\n        this.user = {}\n      }\n    },\n    gotoHome () {\n      location.href = '../'\n    },\n    logout () {\n      this.$confirm('确定要注销吗?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'info'\n      }).then(() => {\n        localStorage.removeItem('user')\n        this.$router.push({ path: '/login' })\n      }).catch(() => {})\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n@import './styles/_variables.scss';\n.el-message-box {\n  max-width: 100%;\n}\n.no-select {\n  user-select: none;\n}\n.admin {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  .admin-header {\n    width: 100%;\n    height: 60px;\n    background: #20A0FF;\n    padding: 12px 20px;\n    box-sizing: border-box;\n    color: #ffffff;\n    display: flex;\n    align-items: center;\n\n    .logo{\n      font-size: 2.4rem;\n      flex: 1;\n    }\n    .el-dropdown-link {\n      color: #fff;\n    }\n  }\n\n  // body\n  .admin-body {\n    // menu\n    display: flex;\n    flex: 1;\n    width: 100%;\n    overflow-x: auto;\n    .admin-menu-wrapper {\n      overflow: auto;\n      min-width: 240px;\n      width: 20%;\n      display: flex;\n      flex-direction: column;\n      .admin-menu-bar {\n        flex: 1;\n        width: 100%;\n        min-width: 240px;\n        display: flex;\n        flex-direction: column;\n      }\n    }\n\n    .admin-content-resizer {\n      min-width: 6px;\n      cursor: col-resize;\n    }\n\n    // content\n    .admin-content-wrapper {\n      flex: 1;\n      max-width: 100%;\n      min-width: 320px;\n      box-sizing: border-box;\n      display: flex;\n      flex-direction: column;\n      .admin-content {\n        padding: 16px;\n        display: flex;\n        flex-direction: column;\n        max-width: 100%;\n        box-sizing: border-box;\n        flex: 1;\n        overflow-y: auto;\n      }\n    }\n  }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// app.vue?c6a3c47c","<template>\n  <div>\n    <el-input\n      placeholder=\"搜索我的文档\"\n      v-model=\"filterText\">\n    </el-input>\n    <el-tree\n      ref=\"filelist\"\n      v-loading.body=\"loading\"\n      :data=\"fileTree\"\n      node-key=\"_path\"\n      @node-click=\"editFile\"\n      :filter-node-method=\"filterNode\"\n      :render-content=\"renderContent\"\n      :default-expanded-keys=\"['_posts']\"\n    ></el-tree>\n  </div>\n</template>\n\n<script>\nimport { repo, octo, getUser } from '../../api'\nimport EventBus from '../../event-bus'\n\nfunction setValue (path, val, obj) {\n  var fields = path.split('/')\n  var result = obj\n  for (var i = 0, n = fields.length; i < n && result !== undefined; i++) {\n    var field = fields[i]\n    if (i === n - 1) {\n      result[field] = val\n    } else {\n      result = result[field] || {}\n    }\n  }\n}\n\nfunction objToMenu (obj, dataArray) {\n  for (let p in obj) {\n    const { _id, _path, _type, ...other } = obj[p]\n    let data = {\n      label: p,\n      _id,\n      _path,\n      _type\n    }\n\n    for (let ip in other) { // eslint-disable-line\n      data.children = []\n      objToMenu(other, data.children)\n      break\n    }\n    dataArray.unshift(data)\n  }\n}\n\nexport default {\n  data () {\n    return {\n      filterText: '',\n      filelist: [],\n      loading: false,\n      fileTree: [],\n      branches: ''\n    }\n  },\n  watch: {\n    filterText (val) {\n      this.$refs['filelist'].filter(val)\n    }\n  },\n  mounted () {\n    EventBus.$on('updateFiles', () => {\n      this.loading = true\n      setTimeout(() => {\n        this.fetchFiles()\n      }, 1000)\n    })\n  },\n  created () {\n    getUser()\n    this.fetchFiles()\n  },\n  methods: {\n    filterNode (value, data) {\n      if (!value) return true\n      return data.label.indexOf(value) !== -1 && data.label.endsWith('.md')\n    },\n    fetchFiles () {\n      if (!octo) {\n        return\n      };\n      this.loading = true\n      return new Promise((resolve) => {\n        if (this.branches) {\n          resolve(this.branches)\n        } else {\n          // 获取默认branch\n          repo.fetch()\n            .then(({ defaultBranch }) => {\n              this.branches = defaultBranch\n              resolve(this.branches)\n            })\n        }\n      })\n        .then((branches) => {\n          return repo.git.trees(`${branches}?recursive=1&rd=${Math.random()}`).fetch()\n        })\n        .then(filelist => {\n          return filelist.tree.filter(item => item.path.indexOf('_posts') === 0 || item.path.indexOf('media') === 0 /* && !/(\\/media|\\/\\.|\\/_)/.test(item.path) */)\n        })\n        .then(tree => {\n          this.loading = false\n          this.filelist = tree\n\n          let dataObj = {}\n          tree.forEach(function (item) {\n            setValue(item.path, { _id: item.sha, _path: item.path, _type: item.type }, dataObj)\n          })\n          const fileTree = []\n          objToMenu(dataObj, fileTree)\n          fileTree.forEach(item => {\n            if (item.label === '_posts') {\n              item.label = '我的文档'\n            } else {\n              item.label = '我的图片'\n            }\n          })\n          this.fileTree = fileTree\n        })\n        .catch((err = {}) => {\n          this.loading = false\n          this.$message.error(/\"message\": \"([^\"]+)/m.test(err.message) && RegExp.$1 || err.toString())\n        })\n    },\n    removeFile (data) {\n      return this.$confirm('是否要删除此文章？')\n        .then(() => {\n          this.loading = true\n          return repo.contents(data._path)\n            .remove({\n              message: 'remove file',\n              sha: data.sha\n            })\n        })\n        .then(() => {\n          this.loading = false\n          return this.fetchFiles()\n        })\n        .catch((err = {}) => {\n          this.loading = false\n          this.$message.error(/\"message\": \"([^\"]+)/m.test(err.message) && RegExp.$1 || err.toString())\n        })\n    },\n    editFile (data) {\n      if (data._type === 'tree') return\n      this.$router.push({\n        path: '/',\n        query: {\n          path: data._path\n        }\n      })\n    },\n    renderContent (h, { node, data, store }) {\n      const children = [\n        h('span', { class: 'flex-1' }, node.label)\n      ]\n      return h('span', { class: 'flex flex-1' }, children)\n    }\n  }\n}\n</script>\n<style lang=\"scss\">\n.el-table {\n  height: auto;\n}\n.title {\n  flex: 1;\n}\n.el-tree {\n  height: auto;\n  .el-tree-node__content, .flex {\n    display: flex;\n    align-items: center;\n  }\n  .flex-1 {\n    flex: 1;\n  }\n  .el-button {\n    width: 60px;\n  }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// filelist.vue?0fc723c4","\n/* styles */\nrequire(\"!!../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!../node_modules/vue-loader/lib/style-rewriter?id=data-v-84dde9d0!sass-loader?sourceMap!../node_modules/vue-loader/lib/selector?type=styles&index=0!./app.vue\")\n\nvar Component = require(\"!../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./app.vue\"),\n  /* template */\n  require(\"!!../node_modules/vue-loader/lib/template-compiler?id=data-v-84dde9d0!../node_modules/vue-loader/lib/selector?type=template&index=0!./app.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app.vue\n// module id = 278\n// module chunks = 7","\n/* styles */\nrequire(\"!!../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!../../../node_modules/vue-loader/lib/style-rewriter?id=data-v-10b999aa!sass-loader?sourceMap!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./filelist.vue\")\n\nvar Component = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./filelist.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/vue-loader/lib/template-compiler?id=data-v-10b999aa!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./filelist.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/common/filelist.vue\n// module id = 281\n// module chunks = 7","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('el-input', {\n    attrs: {\n      \"placeholder\": \"搜索我的文档\"\n    },\n    model: {\n      value: (_vm.filterText),\n      callback: function($$v) {\n        _vm.filterText = $$v\n      },\n      expression: \"filterText\"\n    }\n  }), _vm._v(\" \"), _c('el-tree', {\n    directives: [{\n      name: \"loading\",\n      rawName: \"v-loading.body\",\n      value: (_vm.loading),\n      expression: \"loading\",\n      modifiers: {\n        \"body\": true\n      }\n    }],\n    ref: \"filelist\",\n    attrs: {\n      \"data\": _vm.fileTree,\n      \"node-key\": \"_path\",\n      \"filter-node-method\": _vm.filterNode,\n      \"render-content\": _vm.renderContent,\n      \"default-expanded-keys\": ['_posts']\n    },\n    on: {\n      \"node-click\": _vm.editFile\n    }\n  })], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-10b999aa!./~/vue-loader/lib/selector.js?type=template&index=0!./src/pages/common/filelist.vue\n// module id = 286\n// module chunks = 7","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('section', {\n    staticClass: \"admin\"\n  }, [(!_vm.$route.meta.hidden) ? [_c('header', {\n    staticClass: \"admin-header\"\n  }, [_c('router-link', {\n    staticClass: \"logo\",\n    attrs: {\n      \"to\": {\n        path: '/'\n      }\n    }\n  }, [_vm._v(\"极简博客后台管理\")]), _vm._v(\" \"), (_vm.user.name) ? _c('div', {\n    staticClass: \"user-info\"\n  }, [_c('el-dropdown', {\n    attrs: {\n      \"trigger\": \"click\"\n    }\n  }, [_c('span', {\n    staticClass: \"el-dropdown-link\"\n  }, [_c('span', [_vm._v(_vm._s(_vm.user.name))]), _c('i', {\n    staticClass: \"el-icon-caret-bottom el-icon--right\"\n  })]), _vm._v(\" \"), _c('el-dropdown-menu', {\n    slot: \"dropdown\"\n  }, [_c('el-dropdown-item', {\n    nativeOn: {\n      \"click\": function($event) {\n        _vm.gotoHome($event)\n      }\n    }\n  }, [_vm._v(\"返回首页\")]), _vm._v(\" \"), _c('el-dropdown-item', {\n    nativeOn: {\n      \"click\": function($event) {\n        _vm.logout($event)\n      }\n    }\n  }, [_vm._v(\"注销\")])], 1)], 1)], 1) : _vm._e()], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"admin-body\",\n    class: _vm.globalClass\n  }, [_c('aside', {\n    ref: \"aside\",\n    staticClass: \"admin-menu-wrapper\",\n    style: ({\n      width: _vm.sideBarWidth\n    })\n  }, [_c('el-menu', {\n    staticClass: \"admin-menu-bar\",\n    attrs: {\n      \"default-active\": _vm.activeMenu,\n      \"router\": \"\"\n    }\n  }, [_vm._l((_vm.$router.options.routes[_vm.$router.options.routes.length - 2].children), function(route, index) {\n    return [(route.children && route.name) ? [_c('el-submenu', {\n      attrs: {\n        \"index\": route.name\n      }\n    }, [_c('template', {\n      slot: \"title\"\n    }, [_c('i', {\n      class: route.iconClass\n    }), _vm._v(_vm._s(route.name))]), _vm._v(\" \"), _vm._l((route.children), function(cRoute, cIndex) {\n      return _c('el-menu-item', {\n        key: cRoute.name,\n        attrs: {\n          \"index\": cRoute.name,\n          \"route\": cRoute\n        }\n      }, [_vm._v(_vm._s(cRoute.name))])\n    })], 2)] : _vm._e(), _vm._v(\" \"), (!route.children && route.name) ? [_c('el-menu-item', {\n      attrs: {\n        \"index\": route.name,\n        \"route\": route\n      }\n    }, [_c('i', {\n      class: route.iconClass\n    }), _vm._v(_vm._s(route.name))])] : _vm._e(), _vm._v(\" \"), (route.type === 'filelist') ? [_c('filelist')] : _vm._e()]\n  })], 2)], 1), _vm._v(\" \"), _c('div', {\n    ref: \"resizer\",\n    staticClass: \"admin-content-resizer\"\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"admin-content-wrapper\"\n  }, [_c('section', {\n    staticClass: \"admin-content\"\n  }, [_c('router-view')], 1)])])] : [_c('router-view')]], 2)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-84dde9d0!./~/vue-loader/lib/selector.js?type=template&index=0!./src/app.vue\n// module id = 290\n// module chunks = 7"],"sourceRoot":""}