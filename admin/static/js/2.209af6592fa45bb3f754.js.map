{"version":3,"sources":["webpack:///static/js/2.209af6592fa45bb3f754.js","webpack:///breadcrumb.vue","webpack:///index.vue?0128","webpack:///./src/pages/settings/index.vue?6068","webpack:///./src/components/breadcrumb.vue?148d","webpack:///./src/pages/settings/index.vue?1c7c","webpack:///./src/components/breadcrumb.vue?87bb","webpack:///./src/components/breadcrumb.vue","webpack:///./src/pages/settings/index.vue","webpack:///./src/pages/settings/index.vue?8077","webpack:///./src/components/breadcrumb.vue?58cd"],"names":["webpackJsonp","171","module","exports","Object","defineProperty","value","default","name","data","breadcrumbs","mounted","this","$parent","$route","matched","176","__webpack_require__","_interopRequireDefault","obj","__esModule","_breadcrumb","_breadcrumb2","_api","_jsBase","saving","settings","components","breadcrumb","created","repo","base","contents","fetchSettings","methods","_this","fetch","then","_ref","content","sha","originContent","Base64","decode","test","RegExp","$1","trim","parseSettings","catch","err","message","toString","loading","$message","error","_this2","replace","all","push","reset","$refs","form","resetFields","submit","_this3","map","item","join","add","path","encode","computed","majorList","218","id","version","sources","names","mappings","file","sourcesContent","sourceRoot","221","247","locals","251","279","Component","285","289","render","_vm","_h","$createElement","_c","_self","directives","rawName","expression","modifiers","body","_v","staticClass","ref","attrs","label-width","_l","key","label","prop","placeholder","model","callback","$$v","_e","type","on","click","staticRenderFns","292","separator","to","_s"],"mappings":"AAAAA,cAAc,EAAE,IAEVC,IACA,SAAUC,EAAQC,GAEvB,YAEAC,QAAOC,eAAeF,EAAS,cAC7BG,OAAO,IAETH,EAAQI,SACNC,KCEH,gBDAGC,KAAM,WACJ,OACEC,iBAGJC,QAAS,WACPC,KAAKF,YAAcE,KAAKC,SAAWD,KAAKC,QAAQC,QAAUF,KAAKC,QAAQC,OAAOC,eAM7EC,IACA,SAAUd,EAAQC,EAASc,GAEhC,YAcA,SAASC,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQZ,QAASY,GAZvFf,OAAOC,eAAeF,EAAS,cAC7BG,OAAO,GEZV,IAAAe,GAAAJ,EAAA,KFiBKK,EAAeJ,EAAuBG,GEhB3CE,EAAAN,EAAA,IAEAO,EAAAP,EAAA,GFsBCd,GAAQI,SACNE,KAAM,WACJ,OACEgB,QErBP,EFsBOC,cAIJC,YEpBHC,WAAAN,EAAAf,SFuBGsB,QAAS,WACPjB,KAAKkB,KAAOP,EAAKQ,KAAKC,SErB3B,eFsBKpB,KErBLqB,iBFwBGC,SACED,cAAe,WEtBpB,GAAAE,GAAAvB,IFyBO,OAAOA,MAAKkB,KExBnBM,QAAAC,KAAA,SAAAC,GACA,GAAAC,GAAAD,EAAAC,QFyBaC,EAAMF,EAAKE,GAEfL,GAAMM,cAAgBjB,EAAQkB,OAAOC,OE1B9CJ,GF2BSJ,EAAMK,IE1BfA,EF2Ba,wBAAwBI,KAAKT,EAAMM,iBACrCN,EAAMI,QAAUM,OAAOC,GE1BlCC,OF2BWZ,EE1BXa,mBAEAC,MAAA,SAAAC,GF2BS,GAAIC,GAAU,uBAAuBP,KAAKM,EAAIC,UAAYN,OAAOC,IAAMI,EEzBhFE,UF0BSjB,GAAMkB,SEzBf,EF0BSlB,EAAMmB,SAASC,MAAMJ,EEzB9BJ,WF4BKC,cAAe,WEzBpB,GAAAQ,GAAA5C,IF4BOA,MAAKc,YACLd,KAAK2B,QAAQkB,QAAQ,gCAAiC,SAAUC,EAAKlD,EAAMF,GACrEE,GACFgD,EAAO9B,SAASiC,ME1B3BnD,OAEAF,aF+BKsD,MAAO,WACLhD,KAAKiD,MAAMC,KE3BlBC,eF6BKC,OAAQ,WE3Bb,GAAAC,GAAArD,KF8BW2B,EAAU3B,KAAK6B,cAAcgB,QE7BxC,mCAAA7C,KAAAc,SAAAwC,IAAA,SAAAC,GF8BS,MAAOA,GAAK3D,KAAO,KAAO2D,EAAK7D,QAC9B8D,KE7BV,MAEA,SF4BOxD,MAAKa,QE3BZ,EF4BOb,KAAKkB,KAAKuC,KACRC,KE3BT,cF4BSnB,QE3BT,gBF4BSX,IAAK5B,KE3Bd4B,IF4BSD,QAASf,EAAQkB,OAAO6B,OE3BjChC,KAJAF,KAAA,WFmCS,MAFA4B,GAAOxC,QE3BhB,EF4BSwC,EAAOX,SE3BhB,QF4BgBW,EE3BhBhC,kBACAgB,MAAA,SAAAC,GF4BSe,EAAOxC,QE1BhB,CF2BS,IAAI0B,GAAU,uBAAuBP,KAAKM,EAAIC,UAAYN,OAAOC,IAAMI,EE1BhFE,UF2BSa,GAAOZ,SE1BhB,EF2BSY,EAAOX,SAASC,MAAMJ,EE1B/BJ,YF8BGyB,UACEC,UAAW,gBAMVC,IACA,SAAUxE,EAAQC,EAASc,GGhIjCd,EAAAD,EAAAC,QAAAc,EAAA,KAKAd,EAAAwD,MAAAzD,EAAAyE,GAAA,iHAAwI,IAAQC,QAAA,EAAAC,SAAA,mCAAAC,SAAAC,SAAA,gDAAAC,KAAA,YAAAC,gBAAA,4HAA4RC,WAAA,iBHyItaC,IACA,SAAUjF,EAAQC,EAASc,GI/IjCd,EAAAD,EAAAC,QAAAc,EAAA,KAKAd,EAAAwD,MAAAzD,EAAAyE,GAAA,iCAAwD,IAAQC,QAAA,EAAAC,SAAA,oCAAAC,SAAAC,SAAA,uBAAAC,KAAA,iBAAAC,gBAAA,+CAA4LC,WAAA,iBJwJtPE,IACA,SAAUlF,EAAQC,EAASc,GK3JjC,GAAAsB,GAAAtB,EAAA,IACA,iBAAAsB,SAAArC,EAAAyE,GAAApC,EAAA,KAEAtB,GAAA,GAAAsB,KACAA,GAAA8C,SAAAnF,EAAAC,QAAAoC,EAAA8C,SLiLMC,IACA,SAAUpF,EAAQC,EAASc,GMtLjC,GAAAsB,GAAAtB,EAAA,IACA,iBAAAsB,SAAArC,EAAAyE,GAAApC,EAAA,KAEAtB,GAAA,GAAAsB,KACAA,GAAA8C,SAAAnF,EAAAC,QAAAoC,EAAA8C,SN4MME,IACA,SAAUrF,EAAQC,EAASc,GOlNjCA,EAAA,IAEA,IAAAuE,GAAAvE,EAAA,GAEAA,EAAA,KAEAA,EAAA,KAEA,KAEA,KAGAf,GAAAC,QAAAqF,EAAArF,SP2NMsF,IACA,SAAUvF,EAAQC,EAASc,GQzOjCA,EAAA,IAEA,IAAAuE,GAAAvE,EAAA,GAEAA,EAAA,KAEAA,EAAA,KAEA,kBAEA,KAGAf,GAAAC,QAAAqF,EAAArF,SRkPMuF,IACA,SAAUxF,EAAQC,GSlQxBD,EAAAC,SAAgBwF,OAAA,WAAmB,GAAAC,GAAAhF,KAAaiF,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,CAC1E,OAAAE,GAAA,OACAE,aACAzF,KAAA,UACA0F,QAAA,iBACA5F,MAAAsF,EAAA,OACAO,WAAA,SACAC,WACAC,MAAA,OAGGN,EAAA,cAAAH,EAAAU,GAAA,KAAAP,EAAA,MAAAH,EAAAU,GAAA,KAAAP,EAAA,OACHQ,YAAA,qBACGR,EAAA,WACHS,IAAA,OACAC,OACAC,cAAA,WAEGd,EAAAe,GAAA/F,KAAA,kBAAAuD,GACH,MAAAA,GAAA,KAAA4B,EAAA,gBACAa,IAAAzC,EAAA3D,KACAiG,OACAI,MAAA1C,EAAA3D,KAAA,KACAsG,KAAA3C,EAAA3D,QAEKuF,EAAA,YACLU,OACAM,YAAA,OAEAC,OACA1G,MAAA6D,EAAA,MACA8C,SAAA,SAAAC,GACA/C,EAAA7D,MAAA4G,GAEAf,WAAA,iBAEK,GAAAP,EAAAuB,OACFvB,EAAAU,GAAA,KAAAP,EAAA,gBAAAA,EAAA,aACHU,OACAW,KAAA,WAEAC,IACAC,MAAA1B,EAAA5B,UAEG4B,EAAAU,GAAA,yBACFiB,qBTwQKC,IACA,SAAUtH,EAAQC,GUtTxBD,EAAAC,SAAgBwF,OAAA,WAAmB,GAAAC,GAAAhF,KAAaiF,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,CAC1E,OAAAE,GAAA,iBACAU,OACAgB,UAAA,OAEG1B,EAAA,QACHQ,YAAA,sBACGX,EAAAU,GAAA,SAAAV,EAAAU,GAAA,KAAAV,EAAAe,GAAAf,EAAA,qBAAAzB,GACH,MAAA4B,GAAA,sBACAU,OACAiB,GAAAvD,KAEKyB,EAAAU,GAAA,SAAAV,EAAA+B,GAAAxD,EAAA3D,MAAA,aACF,IACF+G","file":"static/js/2.209af6592fa45bb3f754.js","sourcesContent":["webpackJsonp([2,5],{\n\n/***/ 171:\n/***/ (function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = {\n\t  name: 'db-breadcrumb',\n\t\n\t  data: function data() {\n\t    return {\n\t      breadcrumbs: []\n\t    };\n\t  },\n\t  mounted: function mounted() {\n\t    this.breadcrumbs = this.$parent && this.$parent.$route && this.$parent.$route.matched || [];\n\t  }\n\t};\n\n/***/ }),\n\n/***/ 176:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _breadcrumb = __webpack_require__(279);\n\t\n\tvar _breadcrumb2 = _interopRequireDefault(_breadcrumb);\n\t\n\tvar _api = __webpack_require__(36);\n\t\n\tvar _jsBase = __webpack_require__(17);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t  data: function data() {\n\t    return {\n\t      saving: false,\n\t      settings: []\n\t    };\n\t  },\n\t\n\t  components: {\n\t    breadcrumb: _breadcrumb2.default\n\t  },\n\t  created: function created() {\n\t    this.repo = _api.base.contents('_config.yml');\n\t    this.fetchSettings();\n\t  },\n\t\n\t  methods: {\n\t    fetchSettings: function fetchSettings() {\n\t      var _this = this;\n\t\n\t      return this.repo.fetch().then(function (_ref) {\n\t        var content = _ref.content,\n\t            sha = _ref.sha;\n\t\n\t        _this.originContent = _jsBase.Base64.decode(content);\n\t        _this.sha = sha;\n\t        if (/#start([\\w\\W]*?)#end/m.test(_this.originContent)) {\n\t          _this.content = RegExp.$1.trim();\n\t          _this.parseSettings();\n\t        }\n\t      }).catch(function (err) {\n\t        var message = /\"message\": \"([^\"]+)/m.test(err.message) && RegExp.$1 || err.toString();\n\t        _this.loading = false;\n\t        _this.$message.error(message.trim());\n\t      });\n\t    },\n\t    parseSettings: function parseSettings() {\n\t      var _this2 = this;\n\t\n\t      this.settings = [];\n\t      this.content.replace(/^(?:([^:#\\n]+):)?[ \\t]*(.*)/mg, function (all, name, value) {\n\t        if (name) {\n\t          _this2.settings.push({\n\t            name: name,\n\t            value: value\n\t          });\n\t        }\n\t      });\n\t    },\n\t    reset: function reset() {\n\t      this.$refs.form.resetFields();\n\t    },\n\t    submit: function submit() {\n\t      var _this3 = this;\n\t\n\t      var content = this.originContent.replace(/#start([\\w\\W]*?)#end/m, '#start\\n' + this.settings.map(function (item) {\n\t        return item.name + ': ' + item.value;\n\t      }).join('\\n') + '\\n#end');\n\t      this.saving = true;\n\t      this.repo.add({\n\t        path: '_config.yml',\n\t        message: 'update config',\n\t        sha: this.sha,\n\t        content: _jsBase.Base64.encode(content)\n\t      }).then(function () {\n\t        _this3.saving = false;\n\t        _this3.$message('保存成功');\n\t        return _this3.fetchSettings();\n\t      }).catch(function (err) {\n\t        _this3.saving = false;\n\t        var message = /\"message\": \"([^\"]+)/m.test(err.message) && RegExp.$1 || err.toString();\n\t        _this3.loading = false;\n\t        _this3.$message.error(message.trim());\n\t      });\n\t    }\n\t  },\n\t  computed: {\n\t    majorList: function majorList() {}\n\t  }\n\t};\n\n/***/ }),\n\n/***/ 218:\n/***/ (function(module, exports, __webpack_require__) {\n\n\texports = module.exports = __webpack_require__(6)();\n\t// imports\n\t\n\t\n\t// module\n\texports.push([module.id, \"#big-form .el-form[data-v-6016baaa]{width:600px}#big-form .el-form .skill-line[data-v-6016baaa]{margin:10px 0}\", \"\", {\"version\":3,\"sources\":[\"/./src/pages/settings/index.vue\"],\"names\":[],\"mappings\":\"AACA,oCAAoC,WAAW,CAC9C,AACD,gDAAgD,aAAa,CAC5D\",\"file\":\"index.vue\",\"sourcesContent\":[\"\\n#big-form .el-form[data-v-6016baaa]{width:600px\\n}\\n#big-form .el-form .skill-line[data-v-6016baaa]{margin:10px 0\\n}\\n\"],\"sourceRoot\":\"webpack://\"}]);\n\t\n\t// exports\n\n\n/***/ }),\n\n/***/ 221:\n/***/ (function(module, exports, __webpack_require__) {\n\n\texports = module.exports = __webpack_require__(6)();\n\t// imports\n\t\n\t\n\t// module\n\texports.push([module.id, \".db-breadcrumb-loc{float:left}\", \"\", {\"version\":3,\"sources\":[\"/./src/components/breadcrumb.vue\"],\"names\":[],\"mappings\":\"AACA,mBACE,UAAY,CACb\",\"file\":\"breadcrumb.vue\",\"sourcesContent\":[\"\\n.db-breadcrumb-loc {\\n  float: left;\\n}\\n\"],\"sourceRoot\":\"webpack://\"}]);\n\t\n\t// exports\n\n\n/***/ }),\n\n/***/ 247:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t// style-loader: Adds some css to the DOM by adding a <style> tag\n\t\n\t// load the styles\n\tvar content = __webpack_require__(218);\n\tif(typeof content === 'string') content = [[module.id, content, '']];\n\t// add the styles to the DOM\n\tvar update = __webpack_require__(7)(content, {});\n\tif(content.locals) module.exports = content.locals;\n\t// Hot Module Replacement\n\tif(false) {\n\t\t// When the styles change, update the <style> tags\n\t\tif(!content.locals) {\n\t\t\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js?sourceMap!../../../node_modules/vue-loader/lib/style-rewriter.js?id=data-v-6016baaa&scoped=true!../../../node_modules/sass-loader/index.js?sourceMap!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./index.vue\", function() {\n\t\t\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js?sourceMap!../../../node_modules/vue-loader/lib/style-rewriter.js?id=data-v-6016baaa&scoped=true!../../../node_modules/sass-loader/index.js?sourceMap!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./index.vue\");\n\t\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\t\tupdate(newContent);\n\t\t\t});\n\t\t}\n\t\t// When the module is disposed, remove the <style> tags\n\t\tmodule.hot.dispose(function() { update(); });\n\t}\n\n/***/ }),\n\n/***/ 251:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t// style-loader: Adds some css to the DOM by adding a <style> tag\n\t\n\t// load the styles\n\tvar content = __webpack_require__(221);\n\tif(typeof content === 'string') content = [[module.id, content, '']];\n\t// add the styles to the DOM\n\tvar update = __webpack_require__(7)(content, {});\n\tif(content.locals) module.exports = content.locals;\n\t// Hot Module Replacement\n\tif(false) {\n\t\t// When the styles change, update the <style> tags\n\t\tif(!content.locals) {\n\t\t\tmodule.hot.accept(\"!!../../node_modules/css-loader/index.js?sourceMap!../../node_modules/vue-loader/lib/style-rewriter.js?id=data-v-e285535a!../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./breadcrumb.vue\", function() {\n\t\t\t\tvar newContent = require(\"!!../../node_modules/css-loader/index.js?sourceMap!../../node_modules/vue-loader/lib/style-rewriter.js?id=data-v-e285535a!../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./breadcrumb.vue\");\n\t\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\t\tupdate(newContent);\n\t\t\t});\n\t\t}\n\t\t// When the module is disposed, remove the <style> tags\n\t\tmodule.hot.dispose(function() { update(); });\n\t}\n\n/***/ }),\n\n/***/ 279:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\n\t/* styles */\n\t__webpack_require__(251)\n\t\n\tvar Component = __webpack_require__(8)(\n\t  /* script */\n\t  __webpack_require__(171),\n\t  /* template */\n\t  __webpack_require__(292),\n\t  /* scopeId */\n\t  null,\n\t  /* cssModules */\n\t  null\n\t)\n\t\n\tmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 285:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\n\t/* styles */\n\t__webpack_require__(247)\n\t\n\tvar Component = __webpack_require__(8)(\n\t  /* script */\n\t  __webpack_require__(176),\n\t  /* template */\n\t  __webpack_require__(289),\n\t  /* scopeId */\n\t  \"data-v-6016baaa\",\n\t  /* cssModules */\n\t  null\n\t)\n\t\n\tmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 289:\n/***/ (function(module, exports) {\n\n\tmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n\t  return _c('div', {\n\t    directives: [{\n\t      name: \"loading\",\n\t      rawName: \"v-loading.body\",\n\t      value: (_vm.saving),\n\t      expression: \"saving\",\n\t      modifiers: {\n\t        \"body\": true\n\t      }\n\t    }]\n\t  }, [_c('breadcrumb'), _vm._v(\" \"), _c('br'), _vm._v(\" \"), _c('div', {\n\t    staticClass: \"db-content-inner\"\n\t  }, [_c('el-form', {\n\t    ref: \"form\",\n\t    attrs: {\n\t      \"label-width\": \"100px\"\n\t    }\n\t  }, [_vm._l((this.settings), function(item) {\n\t    return (item.name) ? _c('el-form-item', {\n\t      key: item.name,\n\t      attrs: {\n\t        \"label\": item.name + ' :',\n\t        \"prop\": item.name\n\t      }\n\t    }, [_c('el-input', {\n\t      attrs: {\n\t        \"placeholder\": \"请输入\"\n\t      },\n\t      model: {\n\t        value: (item.value),\n\t        callback: function($$v) {\n\t          item.value = $$v\n\t        },\n\t        expression: \"item.value\"\n\t      }\n\t    })], 1) : _vm._e()\n\t  }), _vm._v(\" \"), _c('el-form-item', [_c('el-button', {\n\t    attrs: {\n\t      \"type\": \"primary\"\n\t    },\n\t    on: {\n\t      \"click\": _vm.submit\n\t    }\n\t  }, [_vm._v(\"保存\")])], 1)], 2)], 1)], 1)\n\t},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 292:\n/***/ (function(module, exports) {\n\n\tmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n\t  return _c('el-breadcrumb', {\n\t    attrs: {\n\t      \"separator\": \"/\"\n\t    }\n\t  }, [_c('span', {\n\t    staticClass: \"db-breadcrumb-loc\"\n\t  }, [_vm._v(\"位置：\")]), _vm._v(\" \"), _vm._l((_vm.breadcrumbs), function(item) {\n\t    return _c('el-breadcrumb-item', {\n\t      attrs: {\n\t        \"to\": item\n\t      }\n\t    }, [_vm._v(\"\\n    \" + _vm._s(item.name) + \"\\n  \")])\n\t  })], 2)\n\t},staticRenderFns: []}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/2.209af6592fa45bb3f754.js","<template lang=\"html\">\n  <el-breadcrumb separator=\"/\">\n    <span class=\"db-breadcrumb-loc\">位置：</span>\n    <el-breadcrumb-item v-for=\"item in breadcrumbs\" :to=\"item\">\n      {{ item.name }}\n    </el-breadcrumb-item>\n  </el-breadcrumb>\n</template>\n\n<script>\nexport default {\n  name: 'db-breadcrumb',\n\n  data() {\n    return {\n      breadcrumbs: []\n    };\n  },\n\n  mounted() {\n    this.breadcrumbs = (this.$parent && this.$parent.$route && this.$parent.$route.matched) || [];\n  }\n};\n</script>\n\n<style lang=\"css\">\n.db-breadcrumb-loc {\n  float: left;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// breadcrumb.vue?44ae22c2","<template>\n  <div v-loading.body=\"saving\">\n    <!-- breadcrumb start  -->\n    <breadcrumb></breadcrumb>\n    <!-- breadcrumb end  -->\n    <br />\n    <div class=\"db-content-inner\">\n      <el-form ref=\"form\" label-width=\"100px\">\n        <el-form-item v-for=\"item in this.settings\" v-if=\"item.name\" :label=\"item.name + ' :'\" :prop=\"item.name\" :key=\"item.name\">\n          <el-input placeholder=\"请输入\" v-model=\"item.value\"></el-input>\n        </el-form-item>\n        <el-form-item>\n          <el-button type=\"primary\" @click=\"submit\">保存</el-button>\n        </el-form-item>\n      </el-form>\n    </div>\n  </div>\n</template>\n<script>\nimport breadcrumb from '../../components/breadcrumb';\nimport { base } from '../../api';\nimport { Base64 } from 'js-base64';\nexport default {\n  data() {\n    return {\n      saving: false,\n      settings: []\n    };\n  },\n  components: {\n    breadcrumb\n  },\n  created() {\n    // ^(?:([^:]+):)?\\s*(.*)\n    this.repo = base.contents('_config.yml');\n    this.fetchSettings();\n  },\n  methods: {\n    fetchSettings() {\n      return this.repo.fetch()\n      .then(({ content, sha }) => {\n        this.originContent = Base64.decode(content);\n        this.sha = sha;\n        if (/#start([\\w\\W]*?)#end/m.test(this.originContent)) {\n          this.content = RegExp.$1.trim();\n          this.parseSettings();\n        }\n      })\n      .catch((err) => {\n        const message = /\"message\": \"([^\"]+)/m.test(err.message) && RegExp.$1 || err.toString();\n        this.loading = false;\n        this.$message.error(message.trim());\n      });\n    },\n    parseSettings() {\n      this.settings = [];\n      this.content.replace(/^(?:([^:#\\n]+):)?[ \\t]*(.*)/mg, (all, name, value) => {\n        if (name) {\n          this.settings.push({\n            name,\n            value\n          });\n        }\n      });\n    },\n    reset() {\n      this.$refs.form.resetFields();\n    },\n    submit() {\n      const content = this.originContent.replace(/#start([\\w\\W]*?)#end/m,\n        '#start\\n' +\n        this.settings.map((item => `${item.name}: ${item.value}`)).join('\\n') +\n        '\\n#end'\n      );\n      this.saving = true;\n      this.repo.add({\n        path: '_config.yml',\n        message: 'update config',\n        sha: this.sha,\n        content: Base64.encode(content)\n      }).then(() => {\n        this.saving = false;\n        this.$message('保存成功');\n        return this.fetchSettings();\n      })\n      .catch((err) => {\n        this.saving = false;\n        const message = /\"message\": \"([^\"]+)/m.test(err.message) && RegExp.$1 || err.toString();\n        this.loading = false;\n        this.$message.error(message.trim());\n      });\n    }\n  },\n  computed: {\n    majorList() {\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n#big-form {\n  .el-form {\n    width: 600px;\n\n    .skill-line {\n      margin: 10px 0;\n    }\n  }\n}\n</style>\n\n\n// WEBPACK FOOTER //\n// index.vue?09fbd06e","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"#big-form .el-form[data-v-6016baaa]{width:600px}#big-form .el-form .skill-line[data-v-6016baaa]{margin:10px 0}\", \"\", {\"version\":3,\"sources\":[\"/./src/pages/settings/index.vue\"],\"names\":[],\"mappings\":\"AACA,oCAAoC,WAAW,CAC9C,AACD,gDAAgD,aAAa,CAC5D\",\"file\":\"index.vue\",\"sourcesContent\":[\"\\n#big-form .el-form[data-v-6016baaa]{width:600px\\n}\\n#big-form .el-form .skill-line[data-v-6016baaa]{margin:10px 0\\n}\\n\"],\"sourceRoot\":\"webpack://\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?sourceMap!./~/vue-loader/lib/style-rewriter.js?id=data-v-6016baaa&scoped=true!./~/sass-loader?sourceMap!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/pages/settings/index.vue\n// module id = 218\n// module chunks = 2","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".db-breadcrumb-loc{float:left}\", \"\", {\"version\":3,\"sources\":[\"/./src/components/breadcrumb.vue\"],\"names\":[],\"mappings\":\"AACA,mBACE,UAAY,CACb\",\"file\":\"breadcrumb.vue\",\"sourcesContent\":[\"\\n.db-breadcrumb-loc {\\n  float: left;\\n}\\n\"],\"sourceRoot\":\"webpack://\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?sourceMap!./~/vue-loader/lib/style-rewriter.js?id=data-v-e285535a!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/components/breadcrumb.vue\n// module id = 221\n// module chunks = 2","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js?sourceMap!../../../node_modules/vue-loader/lib/style-rewriter.js?id=data-v-6016baaa&scoped=true!../../../node_modules/sass-loader/index.js?sourceMap!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./index.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/vue-style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js?sourceMap!../../../node_modules/vue-loader/lib/style-rewriter.js?id=data-v-6016baaa&scoped=true!../../../node_modules/sass-loader/index.js?sourceMap!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./index.vue\", function() {\n\t\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js?sourceMap!../../../node_modules/vue-loader/lib/style-rewriter.js?id=data-v-6016baaa&scoped=true!../../../node_modules/sass-loader/index.js?sourceMap!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./index.vue\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/extract-text-webpack-plugin/loader.js?{\"omit\":1,\"extract\":true,\"remove\":true}!./~/vue-style-loader!./~/css-loader?sourceMap!./~/vue-loader/lib/style-rewriter.js?id=data-v-6016baaa&scoped=true!./~/sass-loader?sourceMap!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/pages/settings/index.vue\n// module id = 247\n// module chunks = 2","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/index.js?sourceMap!../../node_modules/vue-loader/lib/style-rewriter.js?id=data-v-e285535a!../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./breadcrumb.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../node_modules/vue-style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../node_modules/css-loader/index.js?sourceMap!../../node_modules/vue-loader/lib/style-rewriter.js?id=data-v-e285535a!../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./breadcrumb.vue\", function() {\n\t\t\tvar newContent = require(\"!!../../node_modules/css-loader/index.js?sourceMap!../../node_modules/vue-loader/lib/style-rewriter.js?id=data-v-e285535a!../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./breadcrumb.vue\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/extract-text-webpack-plugin/loader.js?{\"omit\":1,\"extract\":true,\"remove\":true}!./~/vue-style-loader!./~/css-loader?sourceMap!./~/vue-loader/lib/style-rewriter.js?id=data-v-e285535a!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/components/breadcrumb.vue\n// module id = 251\n// module chunks = 2","\n/* styles */\nrequire(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!../../node_modules/vue-loader/lib/style-rewriter?id=data-v-e285535a!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./breadcrumb.vue\")\n\nvar Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./breadcrumb.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler?id=data-v-e285535a!../../node_modules/vue-loader/lib/selector?type=template&index=0!./breadcrumb.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/breadcrumb.vue\n// module id = 279\n// module chunks = 2","\n/* styles */\nrequire(\"!!../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!../../../node_modules/vue-loader/lib/style-rewriter?id=data-v-6016baaa&scoped=true!sass-loader?sourceMap!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n\nvar Component = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/vue-loader/lib/template-compiler?id=data-v-6016baaa!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"),\n  /* scopeId */\n  \"data-v-6016baaa\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/settings/index.vue\n// module id = 285\n// module chunks = 2","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    directives: [{\n      name: \"loading\",\n      rawName: \"v-loading.body\",\n      value: (_vm.saving),\n      expression: \"saving\",\n      modifiers: {\n        \"body\": true\n      }\n    }]\n  }, [_c('breadcrumb'), _vm._v(\" \"), _c('br'), _vm._v(\" \"), _c('div', {\n    staticClass: \"db-content-inner\"\n  }, [_c('el-form', {\n    ref: \"form\",\n    attrs: {\n      \"label-width\": \"100px\"\n    }\n  }, [_vm._l((this.settings), function(item) {\n    return (item.name) ? _c('el-form-item', {\n      key: item.name,\n      attrs: {\n        \"label\": item.name + ' :',\n        \"prop\": item.name\n      }\n    }, [_c('el-input', {\n      attrs: {\n        \"placeholder\": \"请输入\"\n      },\n      model: {\n        value: (item.value),\n        callback: function($$v) {\n          item.value = $$v\n        },\n        expression: \"item.value\"\n      }\n    })], 1) : _vm._e()\n  }), _vm._v(\" \"), _c('el-form-item', [_c('el-button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": _vm.submit\n    }\n  }, [_vm._v(\"保存\")])], 1)], 2)], 1)], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-6016baaa!./~/vue-loader/lib/selector.js?type=template&index=0!./src/pages/settings/index.vue\n// module id = 289\n// module chunks = 2","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('el-breadcrumb', {\n    attrs: {\n      \"separator\": \"/\"\n    }\n  }, [_c('span', {\n    staticClass: \"db-breadcrumb-loc\"\n  }, [_vm._v(\"位置：\")]), _vm._v(\" \"), _vm._l((_vm.breadcrumbs), function(item) {\n    return _c('el-breadcrumb-item', {\n      attrs: {\n        \"to\": item\n      }\n    }, [_vm._v(\"\\n    \" + _vm._s(item.name) + \"\\n  \")])\n  })], 2)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-e285535a!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/breadcrumb.vue\n// module id = 292\n// module chunks = 2"],"sourceRoot":""}